window._bwtm.re2_js=function(g,t,y,e){"use strict";var _,m,u,f;var i,n,l,o,s,a,r,d,h,c,p,w,x="",b=window._bwtm,k=b.$,v=b.new_dom,C=["",y.iconPath_228_55,y.iconPath_40_40],T=g.length,B=y.maskColor,z=b.highlight_style(),A=b.highlight_mask_style(),H=b.highlight_style(),M={},P={style:b.product_img_style(),classname:"product_img"},D={direction:"lt",unitType:1,fontSize:"12px",maxWidth:P.style.width},W=function(t,e){var i=b.generateWords(t,e),n=i.style;return"banner"==t.class_name&&(n["white-space"]=""),n["text-align"]="center",n["line-height"]=1.5,i};for((x=b.generateHome(b.home_style(),b.logo_style(),C[e],y)).append_child((a=b.highlight_style(),r=v("img","highlight_img",H,g[0].imgurl),a.overflow="hidden",(s=v("div","highlight_img_wrapper",a)).append_child(r),s)),x.append_child((A.background=B,A["z-index"]=3,v("div","highlight_mask",A))),x.append_child((c={setting:y.text1,class_name:"price",style:b.text_style(0)},p={setting:y.text2,class_name:"price",style:b.text_style(1)},w={setting:y.CTA,class_name:"button",style:b.text_style(2)},H.top=H.left="0px",H.border="1px solid"+y.highlightBorder,H.margin="1px",z["z-index"]=H["z-index"]=3,d=v("div","highlight",z),h=v("div","highlight_border",H),d.append_child(h),d.append_child(W(c,g[0])),d.append_child(W(p,g[0])),d.append_child(W(w,g[0])),d)),i=0;i<T;i+=1)l=g[i],M.style=b.product_style(i),n=b.generateProduct(M,P,D,l,y),(o=v("div","product_mask",b.product_mask_style(i))).style.background=B,n.append_child(o),x.append_child(n);var j={setting:y.banner,class_name:"banner",style:b.text_style(3)};x.append_child(W(j,g[0])),_=void 0===y.opacity?.2:y.opacity/100,m=A.width==z.width&&A.height==z.height,u=b.product_style(0).width==b.product_mask_style(0).width||b.product_style(0).height==b.product_mask_style(0).height,f=parseInt(z.width),b.render(x,y,g,function(t,e){function i(t,e){var i=k(t).find(".product_img")[0].style,n=k(t).find(".product_mask")[0];"on"==e?(i.outline="2px solid "+y.productBorderColor||y.MainColor||"#af7832",i["outline-offset"]="-2px",t.style.overflow="",n.style.display="none"):"off"==e?(i["outline-offset"]=i.outline="",t.style.overflow="",n.style.display=""):"hide"==e&&(i["outline-offset"]=i.outline="",n.style.display="",t.style.overflow="hidden")}var n,l,o=y.resize/100||1.3,s=k(".product_mask"),a=k(".price"),r=k(".highlight_img"),d=k(".highlight_border"),h=k(".button")[0].style;function c(t,e){if(0==e)r[0].style.width=r[0].style.height=f+"px",r[0].style.top=r[0].style.left="",d[0].style.width=d[0].style.height=f*t+"px",d[0].style.margin=f*(1-t)/2;else{var i=f*t+"px",n=f*o+"px";d.animate({width:i,height:i,margin:f*(1-t)/2+"px"},e);var l={width:n,height:n,top:f*(1-o)/2+"px",left:f*(1-o)/2+"px"};r.animate(l,e)}}function p(t,e){t.background=e,t["-o-transition"]=t["-webkit-transition"]=t["-moz-transition"]=t.transition="background 0.5s linear"}for(l=d[0].style,s.animate({opacity:_},0,function(){}),k(".highlight_mask").animate({opacity:"0"},0,function(){}),m&&(k(".button")[0].style.display=k(".price")[0].style.display=k(".price")[1].style.display="none"),p(h,y.CTA.HoverConfig.background),l.display="none",c(1,0),a[0].style.color=y.text1.HoverConfig.color,a[1].style.color=y.text2.HoverConfig.color,h.color=y.CTA.HoverConfig.color,setTimeout(function(){Date.now(),y.initTime,s.animate({opacity:_},0,function(){}),k(".highlight_mask").animate({opacity:_},0,function(){d[0].style.display="",c(.8,300)}),m&&(k(".button")[0].style.display=k(".price")[0].style.display=k(".price")[1].style.display=""),p(h,y.CTA.BaseConfig.background),h.color=y.CTA.BaseConfig.color,a[0].style.color=y.text1.BaseConfig.color,a[1].style.color=y.text2.BaseConfig.color},y.initTime||500),Date.now(),n=0;n<T;n+=1)e[n]!=t?i(e[n],"off"):(i(e[n],"on"),0<n&&u&&i(e[n-1],"hide"),b.registClick(k(".highlight"),g[n].clickurl),k(".highlight_img")[0].src="https:"+g[n].imgurl,k(".price")[0].innerText=window._bwtm.replaceTitle(y.text1.Message,g[n]),k(".price")[1].innerText=window._bwtm.replaceTitle(y.text2.Message,g[n]),k(".button")[0].innerText=window._bwtm.replaceTitle(y.CTA.Message,g[n]),k(".banner")[0].innerText=window._bwtm.replaceTitle(y.banner.Message,g[n]))},t),b.registClick(k(".banner"),t.BannerClickURL)};
window._bwtm.product_filter=function(n,t){var e,i=[],o=n.length;for(e=0;e<t;e++)i.push(n[e%o]);return i},window._bwtm.new_dom=function(n,t,e,i){return{tag_name:n,classname:t,style:e,child:[],innerText:"",src:i,append_child:function(n){n&&(this.child=this.child.concat(n))},to_html:function(o){var n,i="https:",t=function(n,t,e){var i="<"+n+" ";return o.classname&&(i+='class="'+o.classname+'" '),i+=t+">","img"!==n&&(i+=(e=e||"")+"</"+n+">"),i};return o?(o.src&&0!==o.src.indexOf("//")&&(i=""),n=function(){var n,t=o.style,e='style="';for(n in set_imgdiv_style=function(){o.tag_name="div",t["background-image"]="url("+i+o.src+")",t["background-size"]=t.width+" "+t.height,t["background-repeat"]="no-repeat",t["background-size"]="cover"},t.position=t.position||"absolute","imgdiv"===o.tag_name&&set_imgdiv_style(),t)t.hasOwnProperty(n)&&(e+=n+":"+t[n]+";");return e+='"'}(),"img"===o.tag_name?t("img",n+=' src="'+i+o.src+'"'):t(o.tag_name,n,function(){var n,t="",e=o.child.length;for(n=0;n<e;n++)t+=o.child[n].to_html(o.child[n]);return t}()+o.innerText)):""}}},window._bwtm.generateHome=function(n,t,e,i){var o,r,d=window._bwtm,a=d.new_dom,p=a("div","home",n);return p.style.outline="1px solid "+i.border,p.style["outline-offset"]="-1px",p.style.background=i.background,e&&t&&(o=a("imgdiv","logo",t,e),"function"==typeof d.logo_wrapper_style&&((r=a("div","logo_wrapper",d.logo_wrapper_style())).append_child(o),o=r),p.append_child(o)),p.append_child(function(){if(!i.AppendPosition)return null;var n,t=a("span","append",(n=i.AppendPosition||"",{position:"absolute",padding:"0px 4px",opacity:"0.7",background:i.AppendBackgroundColor||"#555555",color:i.AppendColor||"#FFFFFF",top:~n.indexOf("top")?"0px":"",bottom:~n.indexOf("bottom")?"0px":"",left:~n.indexOf("left")?"0px":"",right:~n.indexOf("right")?"0px":"","z-index":"1000","font-size":"12px"}));return t.innerText=i.AppendText,t}()),p},window._bwtm.generateProduct=function(n,t,e,i,o){var r,d=window._bwtm,a=d.new_dom,p=a("div","product",n.style);return i&&o&&t&&(r=a("imgdiv",t.classname,t.style,i.imgurl),o.discountTag&&e&&r.append_child(d.generateDiscount(e,i,o)),p.append_child(r)),p},window._bwtm.base_css=function(n,t,e,i,o){var r={width:(n||0)+"px",height:(t||n||0)+"px",top:(e||0)+"px",left:(i||0)+"px"};return o&&(r["font-size"]=o+"px"),r};
window._bwtm.calculateDiscount=function(n,e,t){var i,d,o;return n&&(i=e/n)<=.99&&(1===t?(d=Math.round(100*e/n)-100,o="%"):2===t&&("0"===(d=(Math.round(100*i)/100).toString().replace(/^0/g,"").replace(".",""))[0]&&(d=d.replace(/^(0)(.+?)/,"$1.$2")),o="æŠ˜")),{discountNum:d,discountUnit:o}},window._bwtm.generateDiscount=function(n,e,t){var i=window._bwtm,d=i.new_dom,o=i.discountStyle(n,t),r=o.wordStyle||"",c=o.wordNumStyle||"",u=o.wordUnitStyle||"",a=d("div","discount",o.shapeStyle),l=i.calculateDiscount(e.origprice,e.price,n.unitType),p=l.discountNum,s=l.discountUnit;if(p&&s)if(r&&c&&u){var w=d("div","word",r),_=d("span","word_num",c),m=d("span","word_unit",u);_.innerText=p,m.innerText=s,w.append_child(_),w.append_child(m),a.append_child(w)}else a.innerText=p+s;else a.style.display="none";return a};
window._bwtm.discountStyle=function(t,o){var e=parseInt(t.maxWidth),i=t.fontSize,n=t.direction,r=o.discount.color,a={position:"absolute",background:o.discount.background||"#FFFFFF",color:r||"#FFFFFF","z-index":"3"};switch(n){case"lt":a.left=a.top="0px";break;case"lb":a.left=a.bottom="0px";break;case"rt":a.right=a.top="0px";break;case"rb":a.right=a.bottom="0px"}return e<70?a.display="none":a["font-size"]=i||Math.floor((e-78)/12)+16+"px",{shapeStyle:a}};
window._bwtm.parsePrice=function(e,r){var i=e.price,c=Math.round(i/1e4),p=e.origprice||i,g=Math.round(p/1e4),l=r.split("|||"),n=l[0],t=function(e){return 3<(e=e.toString()).length?e.slice(0,e.length-3)+","+e.slice(e.length-3,e.length):e};return n||0===n?(n=p===i&&~r.indexOf("origprice")?l[1]||"":n.replace(/\{\{origprice1\}\}/g,p).replace(/\{\{origprice2\}\}/g,t(p)).replace(/\{\{origprice3\}\}/g,g).replace(/\{\{origprice4\}\}/g,t(g))).replace(/\{\{price1\}\}/g,i).replace(/\{\{price2\}\}/g,t(i)).replace(/\{\{price3\}\}/g,c).replace(/\{\{price4\}\}/g,t(c)):""};
window._bwtm.replaceTitle=function(e,r,t){var n,a,c,o=window._bwtm,i=["subtitle","title","desc","vector"],p=i.length;function u(e,r,t){var n=new RegExp(e,"g");return t.replace(n,r)}function l(e,r,t){var n,a,c=t,o=e[r];try{for(a in n=JSON.parse(o.replace(/&quot;/g,'"')))n.hasOwnProperty(a)&&(c=u("{{"+r+"."+a+"}}",n[a],c))}catch(e){c=u("{{"+r+"}}",o,c)}return c}if("string"!=typeof e||e.length<=0)return"";for(a=e.replace(/\&amp\;/gi,"&").replace(/&quot;/g,'"'),a=o.parsePrice(r,a),c=0;c<p;c++)n=i[c],r.hasOwnProperty(n)&&(a=l(r,n,a));return o.truncateWords(a,t)};
window._bwtm.truncateWords=function(n,r){var i=window._bwtm.getLen,t=n,u=i(n),e=function(n,r){var t,u=n.length;for(t=0;t<u;t++)if(i(n.substring(0,t))>=r)return t;return u};return r?2*r<u&&(t=t.substring(0,e(t,2*r-1))+"..."):34<u&&(t=t.substring(0,e(t,32))+".."),t};
window._bwtm.generateWords=function(e,n,t){var s,i,r,a,o=window._bwtm,l=o.getLen,w=o.replaceTitle,d=e.class_name,f=e.style,g=e.setting,p=e.line_count||1,c=function(){var e=parseInt(f["font-size"]);return 1.6787*parseInt(f.width)/e};return f=o.wordBaseStyle(e),s=o.new_dom("div",d,f),t?s.innerText=w(g.Message,n,{style:f,line:p}):1<p?s.innerText=w(g.Message,n,c()):(s.innerText=w(g.Message,n),i=s,r=parseInt(f["font-size"]),1<(a=l(i.innerText)/c())&&(r/=a,parseInt(i.style["font-size"])-r<3&&12<=r&&(i.style["font-size"]=r+"px"))),s};
window._bwtm.wordBaseStyle=function(e){var t=e.setting,o=e.style,i=e.line_count||1;return o["text-decoration"]=t.text_decoration,o["font-weight"]=t.FontWeight,o.color=t.BaseConfig.color,o["font-family"]="Microsoft JhengHei",o["line-height"]=parseInt(o.height)/i+"px",o.overflow="hidden",1===i&&(o["white-space"]="nowrap",o["text-overflow"]="ellipsis"),o};
window._bwtm.getLen=function(n){var t=n.match(/[^\x00-\xff]/gi);return null===t?n.length:n.length+t.length};
window._bwtm.registClick=function(i,c,n){c&&i.off("click").click(function(){window.open(c,"_blank"),window.mediaClickRecord(n)}).css("cursor","pointer")};
window._bwtm.render=function(t,r,o,i,c){var l=window._bwtm,u=l.$;if(u("#BWAdBlock").append(t.to_html(t)),i){if(1===o.length){var e=document.createElement("div");e.className="product",u(".home")[0].appendChild(e)}!function(){"use strict";var e,t,n=0,o=r.showItemTime||2e3,c=function(){var t;i(e,u(".product")),t=e.nextSibling,e=t&&"product"===t.className?t:u(".product")[0]};e=u(".product")[0],c(),t=setInterval(c,o),setTimeout(function(){n=1,t&&clearInterval(t)},3e4),u(".product").mouseenter(function(){e=this,c(),t&&clearInterval(t)}),u(".product").mouseleave(function(){n||(t=setInterval(c,o))})}()}!function(){var t,e,n=o.length;for(l.registClick(u(".logo"),c.LogoClickURL),t=0;t<n;t+=1)e=o[t],l.registClick(u(u(".product")[t]),e.clickurl,t)}()};
function _renderBWad337(t,n,r,e,u){var o=window._bwtm,i=o.base_css;o.home_style=function(){return i(728,90)},o.logo_style=function(){return i(130,130/228*55,14,584)},o.product_style=function(t){return i(88,88,1,204+93*t)},o.product_mask_style=function(t){return 3==t?i(88):i(93,88)},o.product_img_style=function(){return i(88)},o.text_style=function(t){var n={};return 0==t?n=i(90,22,6,99,15):1==t?n=i(90,22,28,99,16):2==t?n=i(90,24,56,99,16):3==t&&(n=i(150,19,56,575,14)),n},o.highlight_style=function(){return i(88,88,1,1)},o.highlight_mask_style=function(){return i(199,88,1,1)},o.re2_js(o.product_filter(t[0],4),r,u,1)}